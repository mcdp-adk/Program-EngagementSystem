(function(e){function t(t){for(var r,a,u=t[0],l=t[1],i=t[2],s=0,b=[];s<u.length;s++)a=u[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==c[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("159b"),n("b64b");var r=n("7a23"),c=n("c3a1"),o=n("c848"),a=(n("7437"),Object(r["createTextVNode"])("è®¾ç½®")),u=Object(r["createTextVNode"])("å­¦ä¹ "),l=Object(r["createTextVNode"])("è¯¦ç»†");function i(e,t,n,c,o,i){var d=Object(r["resolveComponent"])("el-menu-item"),s=Object(r["resolveComponent"])("el-menu"),b=Object(r["resolveComponent"])("el-header"),f=Object(r["resolveComponent"])("user"),p=Object(r["resolveComponent"])("study"),j=Object(r["resolveComponent"])("detail");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{"default-active":e.activeIndex2,class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#fff",onSelect:e.handleSelect},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{onClick:t[0]||(t[0]=function(e){return o.userShow=!0,o.studyShow=!1,o.detailShow=!1})},{default:Object(r["withCtx"])((function(){return[a]})),_:1}),Object(r["createVNode"])(d,{onClick:t[1]||(t[1]=function(e){return o.studyShow=!0,o.userShow=!1,o.detailShow=!1})},{default:Object(r["withCtx"])((function(){return[u]})),_:1}),Object(r["createVNode"])(d,{onClick:t[2]||(t[2]=function(e){return o.detailShow=!0,o.userShow=!1,o.studyShow=!1})},{default:Object(r["withCtx"])((function(){return[l]})),_:1})]})),_:1},8,["default-active","onSelect"])]})),_:1}),Object(r["withDirectives"])(Object(r["createVNode"])(f,{onReceiveData:i.setData},null,8,["onReceiveData"]),[[r["vShow"],o.userShow]]),Object(r["withDirectives"])(Object(r["createVNode"])(p,{user:o.user},null,8,["user"]),[[r["vShow"],o.studyShow]]),o.detailShow?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:0,user:o.user},null,8,["user"])):Object(r["createCommentVNode"])("",!0)],64)}var d=function(e){return Object(r["pushScopeId"])("data-v-231957aa"),e=e(),Object(r["popScopeId"])(),e},s=d((function(){return Object(r["createElementVNode"])("span",null,"Nameï¼š",-1)})),b=d((function(){return Object(r["createElementVNode"])("br",null,null,-1)})),f=d((function(){return Object(r["createElementVNode"])("span",null,"Channelï¼š",-1)})),p=Object(r["createTextVNode"])("Teacher"),j=Object(r["createTextVNode"])("Student"),m=d((function(){return Object(r["createElementVNode"])("br",null,null,-1)})),O=Object(r["createTextVNode"])("Save");function h(e,t,n,c,o,a){var u=Object(r["resolveComponent"])("el-input"),l=Object(r["resolveComponent"])("el-radio"),i=Object(r["resolveComponent"])("el-button"),d=Object(r["resolveComponent"])("el-card"),h=Object(r["resolveComponent"])("el-col"),v=Object(r["resolveComponent"])("el-row");return Object(r["openBlock"])(),Object(r["createBlock"])(v,{justify:"center"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{span:8},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{class:"box-card"},{default:Object(r["withCtx"])((function(){return[s,Object(r["createVNode"])(u,{modelValue:o.user.uname,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.user.uname=e}),placeholder:"Your name"},null,8,["modelValue"]),b,f,Object(r["createVNode"])(u,{modelValue:o.user.channel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.user.channel=e}),placeholder:"Your channel"},null,8,["modelValue"]),Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(l,{modelValue:o.user.role,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.user.role=e}),label:"0",size:"larger"},{default:Object(r["withCtx"])((function(){return[p]})),_:1},8,["modelValue"]),Object(r["createVNode"])(l,{modelValue:o.user.role,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.user.role=e}),label:"1",size:"larger"},{default:Object(r["withCtx"])((function(){return[j]})),_:1},8,["modelValue"])]),m,Object(r["createVNode"])(i,{onClick:a.saveData},{default:Object(r["withCtx"])((function(){return[O]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})}var v="http://localhost:3000",w={name:"user",data:function(){return{user:{uname:"",channel:"",role:"",token:""}}},methods:{saveData:function(){var e=this.user,t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(e.token=t.responseText)},t.open("post",v+"/users/insert",!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("uname="+this.user.uname+"&channel="+this.user.channel+"&role="+this.user.role),this.$emit("receiveData",this.user)}}},V=(n("f9a9"),n("6b0d")),x=n.n(V);const g=x()(w,[["render",h],["__scopeId","data-v-231957aa"]]);var y=g,C=function(e){return Object(r["pushScopeId"])("data-v-2fcfde71"),e=e(),Object(r["popScopeId"])(),e},N={id:"study"},k=C((function(){return Object(r["createElementVNode"])("video",{id:"v"},null,-1)})),E=C((function(){return Object(r["createElementVNode"])("span",null,"âœ…ç­çº§è¡¨çŽ°è¯„åˆ†",-1)})),_=C((function(){return Object(r["createElementVNode"])("p",null,"80",-1)})),S=C((function(){return Object(r["createElementVNode"])("span",null,"âš ï¸è¡¨çŽ°è¾ƒå·®çš„å­¦ç”Ÿ",-1)})),B=C((function(){return Object(r["createElementVNode"])("p",null,"æŽåŽ",-1)}));function T(e,t,n,c,o,a){var u=Object(r["resolveComponent"])("agora"),l=Object(r["resolveComponent"])("el-main"),i=Object(r["resolveComponent"])("el-card"),d=Object(r["resolveComponent"])("el-aside"),s=Object(r["resolveComponent"])("el-container");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",N,[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{user:n.user},null,8,["user"])]})),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[k,Object(r["createVNode"])(i,{class:"box-card"},{header:Object(r["withCtx"])((function(){return[E]})),default:Object(r["withCtx"])((function(){return[_]})),_:1}),Object(r["createVNode"])(i,{class:"box-card"},{header:Object(r["withCtx"])((function(){return[S]})),default:Object(r["withCtx"])((function(){return[B]})),_:1})]})),_:1})]})),_:1})])}n("d9e2"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b0c0");var I=function(e){return Object(r["pushScopeId"])("data-v-3ac003ee"),e=e(),Object(r["popScopeId"])(),e},R={id:"agora"},D=I((function(){return Object(r["createElementVNode"])("div",{id:"video"},null,-1)})),U={id:"controller"},M=Object(r["createTextVNode"])("åŠ å…¥é¢‘é“"),A=Object(r["createTextVNode"])("å…±äº«å±å¹•"),P=Object(r["createTextVNode"])("åœæ­¢å…±äº«"),z=Object(r["createTextVNode"])("ç¦»å¼€é¢‘é“");function G(e,t,n,c,o,a){var u=Object(r["resolveComponent"])("el-button"),l=Object(r["resolveComponent"])("el-col"),i=Object(r["resolveComponent"])("el-row");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",R,[D,Object(r["createElementVNode"])("div",U,[Object(r["createVNode"])(i,{justify:"center"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{span:2},{default:Object(r["withCtx"])((function(){return[n.user.role?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,id:"join"},{default:Object(r["withCtx"])((function(){return[M]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(l,{span:2},{default:Object(r["withCtx"])((function(){return[n.user.role?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,id:"share"},{default:Object(r["withCtx"])((function(){return[A]})),_:1}))]})),_:1}),Object(r["createVNode"])(l,{span:2},{default:Object(r["withCtx"])((function(){return[n.user.role?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,id:"stop"},{default:Object(r["withCtx"])((function(){return[P]})),_:1}))]})),_:1}),Object(r["createVNode"])(l,{span:2},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{id:"leave"},{default:Object(r["withCtx"])((function(){return[z]})),_:1})]})),_:1})]})),_:1})])])}var H=n("1da1"),L=(n("96cf"),n("a15b"),n("25f0"),n("e671")),q=n.n(L),J={localAudioTrack:null,localVideoTrack:null,client:null},Y={appId:"8aaf87961df2495d97f7497e553e8817",channel:"",role:"audience",token:"",uid:123456},F={level:1};function X(){if(document.getElementById(Y.uid)){J.localVideoTrack&&J.localVideoTrack.close(),J.localAudioTrack&&J.localAudioTrack.close();var e=document.getElementById(Y.uid);e.remove()}}function $(){return K.apply(this,arguments)}function K(){return K=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:J.client=q.a.createClient({mode:"live",codec:"vp8"}),window.onload=function(){document.getElementById("join").onclick=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(Y),J.client.setClientRole(Y.role,F),e.next=4,J.client.join(Y.appId,Y.channel,Y.token);case 4:case"end":return e.stop()}}),e)}))),document.getElementById("share").onclick=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J.client.setClientRole("host");case 2:return e.next=4,J.client.join(Y.appId,Y.channel,Y.token);case 4:q.a.createScreenVideoTrack({withAudio:"enable"}).then((function(e,t){J.localVideoTrack=e,J.localAudioTrack=t,J.client.publish(J.localVideoTrack,J.localAudioTrack);var n=document.createElement("div");n.id=Y.uid.toString(),n.style.width="100%",n.style.height="100%",document.getElementById("video").append(n),J.localVideoTrack.play(n)}));case 5:case"end":return e.stop()}}),e)}))),document.getElementById("stop").onclick=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:X();case 1:case"end":return e.stop()}}),e)}))),document.getElementById("leave").onclick=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return X(),J.client.remoteUsers.forEach((function(e){var t=document.getElementById(e.uid);t.remove()})),e.next=4,J.client.leave();case 4:case"end":return e.stop()}}),e)})))},J.client.on("user-published",function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J.client.subscribe(t,n);case 2:console.log("subscribe success"),"video"===n&&(r=t.videoTrack,c=document.createElement("div"),c.id=t.uid.toString(),c.style.width="100%",c.style.height="100%",document.getElementById("video").append(c),r.play(c)),"audio"===n&&(o=t.audioTrack,o.play());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),J.client.on("user-unpublished",(function(e){var t=document.getElementById(e.uid);t.remove()}));case 4:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}var Q={name:"agora",props:["user"],mounted:function(){$()},updated:function(){Y.channel=this.user.channel,Y.token=this.user.token,console.log(Y)}};n("9637");const W=x()(Q,[["render",G],["__scopeId","data-v-3ac003ee"]]);var Z=W;function ee(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var e={video:!0,audio:!1},t=navigator.mediaDevices.getUserMedia(e);t.then((function(e){var t=document.getElementById("v");"srcObject"in t?t.srcObject=e:t.src=window.URL.createObjectURL(e),t.onloadedmetadata=function(){t.play()}})).catch((function(e){console.error(e.name+": "+e.message)}))}var te={name:"study",props:["user"],components:{agora:Z},mounted:function(){ee()}};n("7ea1");const ne=x()(te,[["render",T],["__scopeId","data-v-2fcfde71"]]);var re=ne,ce=function(e){return Object(r["pushScopeId"])("data-v-10726d46"),e=e(),Object(r["popScopeId"])(),e},oe={id:"detail"},ae=ce((function(){return Object(r["createElementVNode"])("span",null,"ðŸŽ‰è¯¾å ‚æƒ…å†µåˆ†æž",-1)})),ue=ce((function(){return Object(r["createElementVNode"])("p",null,"ä¸Šè¯¾æ—¶é—´âž¡ï¸17:49:12",-1)})),le=ce((function(){return Object(r["createElementVNode"])("div",{id:"main",style:{width:"600px",height:"400px"}},null,-1)})),ie=ce((function(){return Object(r["createElementVNode"])("span",null,"âœ…ä»¥ä¸‹åŒå­¦è¡¨çŽ°è¾ƒå¥½",-1)})),de=ce((function(){return Object(r["createElementVNode"])("p",null,"ðŸ‘¦å¼ ä¸‰",-1)})),se=ce((function(){return Object(r["createElementVNode"])("p",null,"ðŸ‘§æŽå››",-1)})),be=ce((function(){return Object(r["createElementVNode"])("span",null,"âš ï¸ä»¥ä¸‹åŒå­¦è¿˜éœ€åŠªåŠ›",-1)})),fe=ce((function(){return Object(r["createElementVNode"])("p",null,"ðŸ‘¦æŽåŽ",-1)}));function pe(e,t,n,c,o,a){var u=Object(r["resolveComponent"])("el-card");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",oe,[Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(u,{class:"box-card"},{header:Object(r["withCtx"])((function(){return[ae]})),default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",null,"é¢‘é“âž¡ï¸"+Object(r["toDisplayString"])(n.user.channel),1),Object(r["createElementVNode"])("p",null,"æŽˆè¯¾æ•™å¸ˆâž¡ï¸"+Object(r["toDisplayString"])(n.user.uname),1),ue]})),_:1})]),le,Object(r["createVNode"])(u,{class:"box-card"},{header:Object(r["withCtx"])((function(){return[ie]})),default:Object(r["withCtx"])((function(){return[de,se]})),_:1}),Object(r["createVNode"])(u,{class:"box-card"},{header:Object(r["withCtx"])((function(){return[be]})),default:Object(r["withCtx"])((function(){return[fe]})),_:1})])}var je=n("313e"),me={name:"detail",props:["user"],components:{},mounted:function(){var e=je["a"](document.getElementById("main")),t={title:{text:"è¯¾å ‚æ•´ä½“ä¸“æ³¨åº¦æ›²çº¿"},xAxis:{type:"category",data:["0","5","10","15","20","25","30","35","40"]},yAxis:{type:"value"},series:[{data:[40,50,80,95,75,60,90,85,80],type:"line",smooth:!0}]};e.setOption(t)}};n("8b3a");const Oe=x()(me,[["render",pe],["__scopeId","data-v-10726d46"]]);var he=Oe;window.eel.say_hello_py("Hello");var ve={name:"App",components:{user:y,study:re,detail:he},data:function(){return{userShow:!0,studyShow:!1,detailShow:!1,user:{}}},methods:{setData:function(e){this.user=e}}};n("f7dc");const we=x()(ve,[["render",i]]);var Ve=we,xe=Object(r["createApp"])(Ve);xe.use(c["a"]),Object.keys(o).forEach((function(e){xe.component(e,o[e])})),xe.mount("#app")},"7ea1":function(e,t,n){"use strict";n("ae8c")},"8b3a":function(e,t,n){"use strict";n("97da")},9637:function(e,t,n){"use strict";n("9e2b")},"97da":function(e,t,n){},"9e2b":function(e,t,n){},"9e6c":function(e,t,n){},aba0:function(e,t,n){},ae8c:function(e,t,n){},f7dc:function(e,t,n){"use strict";n("9e6c")},f9a9:function(e,t,n){"use strict";n("aba0")}});
//# sourceMappingURL=app.aa1dfea0.js.map